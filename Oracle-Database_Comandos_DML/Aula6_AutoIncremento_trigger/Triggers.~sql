--A trigger traduzindo do inglês para o português seria “gatilho”, é um tipo especial 
--de procedimento que está armazenado dentro do banco e que esse procedimento vai ser executado 
--automaticamente quando um evento ocorrer lá no servidor do banco de dados. 
--EVENTO DE INCLUSÃO, ALTERAÇÃO OU EXCLUSÃO
--TRIGGER ANTES DO INSERT OU DEPOIS DO INSERT

SELECT * FROM TINA_TB_CLIENTES --1471156710

SELECT * FROM TINA_TB_VENDEDORES --00235

SELECT * FROM TINA_TB_PRODUTOS --1000889

SELECT * FROM TINA_TB_NOTAS_FISCAIS
WHERE DATA_VENDA >= TO_DATE('2022-01-01', 'yyyy-mm-dd')

SELECT * FROM TINA_TB_ITENS_NOTAS_FISCAIS
WHERE NUMERO = 002

INSERT INTO TINA_TB_NOTAS_FISCAIS
(NUMERO, DATA_VENDA,CPF,MATRICULA,IMPOSTO)
VALUES('002', to_date('2022-01-01', 'yyyy-mm-dd'), '1471156710', '00235', 0.1);

INSERT INTO TINA_TB_ITENS_NOTAS_FISCAIS 
(NUMERO, CODIGO_DO_PRODUTO, QUANTIDADE, PRECO) 
VALUES ('002','1000889',15,10); 

SELECT n.data_venda, 
sum(itn.quantidade * itn.preco) as faturamento 
from TINA_TB_NOTAS_FISCAIS N 
inner join TINA_TB_ITENS_NOTAS_FISCAIS ITN 
on n.numero = itn.numero 
group by n.data_venda;

CREATE TABLE TINA_TB_FATURAMENTO (DATA_VENDA DATE NULL, FATURAMENTO FLOAT);

SELECT * FROM TINA_TB_FATURAMENTO


INSERT INTO TINA_TB_NOTAS_FISCAIS
(NUMERO, DATA_VENDA,CPF,MATRICULA,IMPOSTO)
VALUES('003', to_date('2022-01-02', 'yyyy-mm-dd'), '1471156710', '00235', 0.1);

INSERT INTO TINA_TB_ITENS_NOTAS_FISCAIS 
(NUMERO, CODIGO_DO_PRODUTO, QUANTIDADE, PRECO) 
VALUES ('003','1000889',18,10);

SELECT * FROM TINA_TB_NOTAS_FISCAIS
WHERE NUMERO = 003

SELECT * FROM TINA_TB_ITENS_NOTAS_FISCAIS
WHERE NUMERO = 003


SELECT * FROM NOTAS N
INNER JOIN TINA_TB_ITENS_
